<div class="w-full max-w-5xl mx-auto p-8 rounded-3xl shadow-2xl
           flex flex-col md:flex-row items-center gap-10
           bg-linear-to-br from-[#242424]/80 via-[#1e1e1e]/70 to-[#111]/80
           backdrop-blur-xl border border-gray-700 text-white
           transition-all duration-500 hover:shadow-orange-400/40">

    <!-- PROFILE IMAGE -->
    <div class="relative group shrink-0">
        <div class="w-48 h-48 sm:w-56 sm:h-56 md:w-64 md:h-64 rounded-2xl border-4 border-orange-500 shadow-lg overflow-hidden
               transition-transform duration-500 group-hover:scale-105 group-hover:shadow-orange-400/40">

            <div class="w-full h-full bg-center bg-cover bg-no-repeat"
                [ngStyle]="{'background-image': 'url(' + profileImage + ')'}">
            </div>

        </div>

        <!-- Buttons -->
        <div
            class="absolute bottom-3 right-3 flex gap-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300">

            <input type="file" accept="image/*" #fileInput class="hidden" (change)="onFileSelected($event)" />

            <button (click)="fileInput.click()"
                class="bg-blue-500 hover:bg-blue-600 p-2 rounded-full shadow-md hover:scale-110 transition"
                title="Upload new image">
                <fa-icon [icon]="icons.camera" class="text-white text-lg"></fa-icon>
            </button>

            <button (click)="deleteImage()" [disabled]="!canDelete" class="p-2 rounded-full shadow-md transition
         bg-red-500 hover:bg-red-600 hover:scale-110
         disabled:bg-gray-600 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:scale-100">

                <fa-icon [icon]="icons.trash" class="text-white text-lg transition 
           group-disabled:text-gray-300">
                </fa-icon>
            </button>

        </div>
    </div>

    <!-- PROFILE DETAILS -->
    <div class="flex-1 text-gray-200 space-y-3">

        <h2 class="text-3xl font-bold">Hello,</h2>

        <h2 class="text-3xl font-bold tracking-wide">
            <span class="text-orange-400">{{ trainerDetail.firstName }}</span>
            <span class="text-blue-400">{{ trainerDetail.lastName }}</span>
        </h2>

        <!-- Fancy user id -->
        <p class="tracking-wide text-sm">
            <strong><fa-icon [icon]="icons.id"></fa-icon></strong>

            <span class="text-blue-500">{{ trainerId.substring(0,2) }}</span>
            <span class="text-orange-500">{{ trainerId.substring(2,3) }}</span>
            <span class="text-yellow-400">{{ trainerId.substring(3,6) }}</span>
            <span>{{ trainerId.substring(6,7) }}</span>
            <span class="text-green-400">{{ trainerId.substring(7,9) }}</span>
            <span>{{ trainerId.substring(9) }}</span>
        </p>

        <p>
            <strong class="text-indigo-500"><fa-icon [icon]="icons.user"></fa-icon></strong>
            {{ trainerDetail.firstName }} {{ trainerDetail.lastName }}
        </p>

        <p><strong class="text-green-500"><fa-icon [icon]="icons.mail"></fa-icon></strong> {{ trainerDetail.emailId }}
        </p>

        <p><strong class="text-yellow-500"><fa-icon [icon]="icons.phone"></fa-icon></strong> {{ trainerDetail.phone
            }}</p>

        <p><strong [ngClass]="roleClass"><fa-icon [icon]="genderIcon"></fa-icon></strong> {{
            trainerDetail.gender.toUpperCase() }}</p>

    </div>

    <!-- LIVE STATS (inside main profile card) -->
    <div class="w-full md:w-auto grid gap-5">

        <!-- Active Members -->
        <div class="flex items-center justify-between border-b border-gray-700/50 pb-3">
            <div class="flex items-center gap-3">
                <div class="w-3 h-3 rounded-full bg-orange-600 shadow-md"></div>
                <fa-icon [icon]="icons.member" class="text-xl text-orange-400"></fa-icon>
                <span class="font-medium text-gray-300">Active Members:</span>
            </div>
            <span class="text-2xl font-extrabold text-orange-300">{{ liveMemberCount }}</span>
        </div>

        <!-- Active Trainers -->
        <div class="flex items-center justify-between border-b border-gray-700/50 pb-3">
            <div class="flex items-center gap-3">
                <div class="w-3 h-3 rounded-full bg-blue-600 shadow-md"></div>
                <fa-icon [icon]="icons.trainer" class="text-xl text-blue-400"></fa-icon>
                <span class="font-medium text-gray-300">Active Trainers:</span>
            </div>
            <span class="text-2xl font-extrabold text-blue-300">{{ liveTrainerCount }}</span>
        </div>

        <!-- Active Admins -->
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-3 h-3 rounded-full bg-yellow-600 shadow-md"></div>
                <fa-icon [icon]="icons.admined" class="text-xl text-yellow-300"></fa-icon>
                <span class="font-medium text-gray-300">Active Admins:</span>
            </div>
            <span class="text-2xl font-extrabold text-yellow-300">{{ liveAdminCount }}</span>
        </div>

    </div>

</div>