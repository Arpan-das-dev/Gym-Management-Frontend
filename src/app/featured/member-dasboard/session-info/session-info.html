<div
  class="trainer-card flex flex-col w-full p-6 rounded-2xl h-[520px]
         bg-[#101418]/80 backdrop-blur-xl border border-[#1f2937]
         shadow-xl text-slate-200 transition-all duration-500
         hover:shadow-amber-400/40 hover:scale-[1.01]
         animate-card-fade">

  <!-- ============= HEADER ============= -->
  <div class="flex justify-between items-center mb-5 animate-slide-left">
    <h3 class="text-xl font-semibold text-slate-100 flex items-center gap-3">
      <fa-icon [icon]="icons.calendar" class="text-orange-400 text-2xl"></fa-icon>
      Sessions Info
    </h3>
  </div>

  <!-- ============= TABS ============= -->
  <div class="flex gap-3 mb-4 animate-slide-left">
    <button
      class="px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300"
      [ngClass]="upcomingView
        ? 'bg-blue-600/30 text-blue-300 border border-blue-500/40'
        : 'bg-black/20 text-slate-400 border border-gray-700 hover:text-white'"
      (click)="upcomingView = true; getUpcomingSessions()">
      Upcoming Sessions
    </button>

    <button
      class="px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300"
      [ngClass]="!upcomingView
        ? 'bg-blue-600/30 text-blue-300 border border-blue-500/40'
        : 'bg-black/20 text-slate-400 border border-gray-700 hover:text-white'"
      (click)="upcomingView = false; getPastSessions()">
      Past Sessions
    </button>

    @if (!upcomingView) {
      <button
        class="ml-auto px-4 py-2 rounded-xl text-sm font-semibold border border-gray-700
               hover:bg-black/30 transition flex items-center gap-2"
        (click)="PsSortDirection = PsSortDirection === 'DESC' ? 'ASC' : 'DESC'; getPastSessions()">
        <fa-icon [icon]="PsSortDirection === 'DESC' ? icons.arrowDown : icons.arrowUp"></fa-icon>
        Sort: {{ PsSortDirection }}
      </button>
    }
  </div>

  <!-- =============================== -->
  <!--     SCROLLABLE SESSION LIST     -->
  <!-- =============================== -->
  <div class="flex-1 overflow-y-auto pr-2 space-y-4">

    <!-- UPCOMING -->
    @if (upcomingView) {

      @if (USSessions.length === 0) {
        <p class="text-center text-slate-400 py-10 animate-fade-in">
          No upcoming sessions found.
        </p>
      }

      @for (session of USSessions; track $index) {
        <div
          class="p-4 rounded-xl border border-gray-700 bg-black/20
                 hover:bg-black/30 transition animate-slide-left">

          <h4 class="text-lg font-semibold text-white mb-1">
            {{ session.sessionName }}
          </h4>

          <p class="text-sm text-slate-300">
            <fa-icon [icon]="icons.clock"></fa-icon>
            From:
            <span class="text-blue-300">{{ mapDate(session.sessionStartTime) }}</span>
          </p>

          <p class="text-sm text-slate-300">
            <fa-icon [icon]="icons.clock"></fa-icon>
            To:
            <span class="text-blue-300">{{ mapDate(session.sessionEndTime) }}</span>
          </p>

          <span
            class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-bold"
            [ngClass]="{
              'bg-green-600/30 text-green-300 border border-green-500/40': session.sessionStatus === 'UPCOMING',
              'bg-yellow-600/30 text-yellow-300 border border-yellow-500/40': session.sessionStatus === 'ONGOING'
            }">
            {{ session.sessionStatus }}
          </span>
        </div>
      }
    }

    <!-- PAST -->
    @else {

      @if (PsSessions.length === 0) {
        <p class="text-center text-slate-400 py-10 animate-fade-in">
          No past sessions found.
        </p>
      }

      @for (session of PsSessions; track $index) {
        <div
          class="p-4 rounded-xl border border-gray-700 bg-black/20
                 hover:bg-black/30 transition animate-slide-left">

          <h4 class="text-lg font-semibold text-white mb-1">
            {{ session.sessionName }}
          </h4>

          <p class="text-sm text-slate-300">
            <fa-icon [icon]="icons.clock"></fa-icon>
            From:
            <span class="text-blue-300">{{ mapDate(session.sessionStartTime) }}</span>
          </p>

          <p class="text-sm text-slate-300">
            <fa-icon [icon]="icons.clock"></fa-icon>
            To:
            <span class="text-blue-300">{{ mapDate(session.sessionEndTime) }}</span>
          </p>

          <span
            class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-bold
                   bg-red-600/30 text-red-300 border border-red-500/40">
            {{ session.sessionStatus }}
          </span>
        </div>
      }
    }

  </div>

  <!-- ============= PAGINATION ============= -->
  <div class="flex justify-between pt-4">
    @if (upcomingView) {
      <button
        class="px-4 py-2 rounded-xl bg-black/30 border border-gray-700 hover:bg-black/40 transition disabled:opacity-40"
        [disabled]="USPageNo === 0"
        (click)="loadPreviousUpcomingSessions()">
        Previous
      </button>

      <button
        class="px-4 py-2 rounded-xl bg-black/30 border border-gray-700 hover:bg-black/40 transition disabled:opacity-40"
        [disabled]="!USlastPage"
        (click)="loadNextUpCommingSessions()">
        Next
      </button>
    }
    @else {
      <button
        class="px-4 py-2 rounded-xl bg-black/30 border border-gray-700 hover:bg-black/40 transition disabled:opacity-40"
        [disabled]="PsPageNo === 0"
        (click)="loadPreviousPastSessions()">
        Previous
      </button>

      <button
        class="px-4 py-2 rounded-xl bg-black/30 border border-gray-700 hover:bg-black/40 transition disabled:opacity-40"
        [disabled]="PslastPage || PsSessions.length === 0"
        (click)="loadNextPastSessions()">
        Next
      </button>
    }
  </div>

</div>
